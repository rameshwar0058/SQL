CREATE OR REPLACE PROCEDURE NEW_DEPT(P_DEPT_NAME IN VARCHAR2, P_LOCATION_ID IN NUMBER,P_DEPT_ID OUT NUMBER)
--Insert New Department
AS
V_DEPT_ID NUMBER;
BEGIN
--GENERATING DEPT ID
SELECT MAX(DEPARTMENT_ID) INTO V_DEPT_ID
FROM DEPARTMENTS;
V_DEPT_ID := V_DEPT_ID + 10;

INSERT INTO DEPARTMENTS (DEPARTMENT_ID,DEPARTMENT_NAME,MANAGER_ID,LOCATION_ID)
VALUES(V_DEPT_ID,P_DEPT_NAME,NULL,P_LOCATION_ID);

P_DEPT_ID := V_DEPT_ID;
DBMS_OUTPUT.PUT_LINE('New Department added with new department id is : '|| P_DEPT_ID);

EXCEPTION
WHEN OTHERS THEN
DBMS_OUTPUT.PUT_LINE(SQLERRM);

END NEW_DEPT;

---To call Procedure

DECLARE
V_DEPT_ID NUMBER;
BEGIN
NEW_DEPT( P_DEPT_NAME      => 'HR',
          P_LOCATION_ID    =>  1400,
          P_DEPT_ID        => V_DEPT_ID);
          
END;


